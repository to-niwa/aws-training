## ストレージタイプの比較と選定指針（AWS）

| 種別                   | 特徴                                       | ユースケース                         | AWS サービス例                 |
| ---------------------- | ------------------------------------------ | ------------------------------------ | ------------------------------ |
| オブジェクトストレージ | 非階層・キー＋メタデータ形式で保存         | バックアップ、静的 Web、ビッグデータ | Amazon S3                      |
| ブロックストレージ     | デバイス単位のブロック単位で読み書き可能   | DB、仮想マシン、トランザクション処理 | Amazon EBS、EC2 Instance Store |
| ファイルストレージ     | POSIX 互換のファイルシステム形式で利用可能 | コンテンツ共有、ホームディレクトリ   | Amazon EFS、FSx                |

### 特徴の比較表

| 項目             | オブジェクト           | ブロック            | ファイル                   |
| ---------------- | ---------------------- | ------------------- | -------------------------- |
| データ構造       | キー・オブジェクト形式 | ブロック単位        | ファイル・ディレクトリ構造 |
| 読み書き粒度     | オブジェクト全体       | ブロック単位        | ファイル単位               |
| レイテンシ       | 高い（遅め）           | 低い（高速）        | 中程度                     |
| 更新             | 不可（再アップロード） | 可能                | 可能                       |
| アクセス方法     | REST API               | OS レベルのマウント | NFS マウントなど           |
| スケーラビリティ | 非常に高い             | 中程度              | 高い（EFS は自動拡張）     |
| 可用性           | 高（冗長性あり）       | AZ 単位（EBS）      | 高（マルチ AZ 可能）       |

## S3 マルチパートアップロード概要

### 特徴

- 大きなオブジェクトを複数のパートに分割してアップロードできる。
- 各パートは独立して並列アップロード可能。
- 最終的にすべてのパートを結合して 1 つのオブジェクトとして保存。

### メリット

- アップロードの高速化（並列アップロード）
- 中断からの再開が可能
- パート単位でのエラー処理が容易
- 5GB 以上のファイルでは推奨

### 制限と仕様

- パートのサイズ：最小 5MB（最後のパートを除く）
- 最大パート数：10,000
- 最大オブジェクトサイズ：5TB
- 使用には`InitiateMultipartUpload`, `UploadPart`, `CompleteMultipartUpload` API が必要

### 使用例（CLI）

```sh
aws s3 cp largefile.zip s3://your-bucket/ --storage-class STANDARD --expected-size 15000000000
```
