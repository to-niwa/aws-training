## Amazon Kinesis 概要

### 目的

- **リアルタイムで大量のストリーミングデータを収集・処理・分析**するサービス群

### 構成要素と役割

| サービス名             | 説明                                                       |
| ---------------------- | ---------------------------------------------------------- |
| Kinesis Data Streams   | 高スループットなストリーム収集基盤（1 秒以内）             |
| Kinesis Data Firehose  | ストリームデータの**保存先（S3/Redshift 等）への自動転送** |
| Kinesis Data Analytics | SQL ベースで**リアルタイム分析**が可能なサーバレスサービス |

### 特徴

- **スケーラブルなシャード構成**（Streams）
- **サーバレスで自動バッファ処理**（Firehose）
- **リアルタイム SQL 処理で可視化連携可能**（Analytics）

### シナリオ

| シナリオ                                     | 正解となるサービス          |
| -------------------------------------------- | --------------------------- |
| IoT センサーデータを即時収集 → 保存          | Kinesis Firehose + S3       |
| クリックログをリアルタイムにカウント集計     | Kinesis Streams + Analytics |
| ログを保存し、バッチで Athena から分析したい | Firehose + S3 + Athena      |
| イベント処理にサーバレス構成が求められる     | Firehose + Lambda           |

## Amazon Athena 概要

### 目的

- **Amazon S3 上のデータに直接 SQL クエリを実行する**サーバレスな分析サービス

### 特徴

- 完全サーバレス（インフラ管理不要）
- 標準 SQL（Presto ベース）に対応
- Glue Data Catalog と連携し、スキーマを定義・再利用可能
- クエリ結果は S3 に自動保存（CSV 形式）

### シナリオ

| シナリオ                                           | 選択のポイント  |
| -------------------------------------------------- | --------------- |
| S3 のログデータに即時 SQL で分析したい             | ✅ Athena       |
| スキーマを自動で認識させたい（Athena と併用）      | ✅ Glue Crawler |
| CSV→Parquet 変換して再利用したい（ETL 処理）       | ✅ Glue Job     |
| 定期的なバッチ分析、クレンジングも含めて処理したい | ✅ Glue         |
| クエリ結果をダッシュボードで共有したい             | ✅ QuickSight   |

### 課金モデル

- クエリで**スキャンしたデータ量（$5/TB）**に対して従量課金
- 圧縮・列指向（Parquet 等）の使用でコスト削減可能

## Amazon QuickSight 概要

### 目的

- AWS のデータや他の SaaS/DB から取得したデータを用いて、**ダッシュボードやグラフで可視化する BI サービス**

### 特徴

- **完全マネージド型 BI ツール**（サーバレス）
- **SPICE**（インメモリキャッシュ）による高速分析
- Athena、RDS、Redshift、S3 など多様なソースと連携
- IAM と連携し**アクセス制御や共有が簡単**
- **自然言語クエリ（Q）**にも対応（英語）

### データ取得方法

- **SPICE**：インメモリデータキャッシュ（高速・定期更新）
- **Direct Query**：リアルタイムにデータソースに直接アクセス

### シナリオ

| シナリオ                                    | 推奨サービス             |
| ------------------------------------------- | ------------------------ |
| S3 にあるデータを SQL で抽出                | Athena                   |
| Glue で変換した S3 データをダッシュボード化 | QuickSight               |
| ログの集計値を可視化してチームに共有        | QuickSight               |
| データを定期 ETL 後に分析したい             | Glue + QuickSight        |
| 非技術者がレポートを扱う必要がある          | QuickSight（GUI ベース） |

## Amazon EMR vs AWS Glue

- 「ETL 処理の自動化」「スキーマを自動検出したい」→ Glue
- 「サーバレスでデータ整形したい」→ Glue

| 比較項目         | Amazon EMR                                 | AWS Glue                                 |
| ---------------- | ------------------------------------------ | ---------------------------------------- |
| 主な用途         | ビッグデータ分析（カスタマイズ重視）       | サーバレス ETL（自動化・統合重視）       |
| 処理形式         | クラスタ型：Hadoop / Spark / Presto など   | サーバレス型：Glue Job（Spark / Python） |
| 管理性           | ユーザーがクラスタ構成・管理               | 完全マネージド、インフラ意識不要         |
| スケーラビリティ | 自動スケーリング可（クラスタ制御必要）     | 自動スケーリング（サーバレス）           |
| 柔軟性           | 高（アプリ、設定、フレームワーク制御可能） | 低〜中（Glue API・Job ベース）           |
| コスト           | EC2 ベースの従量課金（スポット節約可）     | 実行時間ベースの従量課金                 |
| ユースケース     | 高度なビッグデータ処理、機械学習前処理     | ETL 自動化、カタログ統合、軽量 ETL 処理  |
| 試験での使い分け | カスタム処理・大量データ → EMR             | ETL、スキーマ自動化 → Glue               |
